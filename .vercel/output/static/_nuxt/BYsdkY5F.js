import{f as d,_ as y,u as h,c as p,a as t,e as g,g as E,h as u,i as S,v as m,j as s,k as x,n as V,t as M,o as f}from"./DB7M4-of.js";import{u as C}from"./BpQPQGIj.js";const U=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/;function k(){const b=C(),a=d({name:"",email:"",phone:"",service:"",message:""}),r=d(""),l=d(!1),i=d(""),n=d(!1);function c(){return a.value.name.trim().length<2?"El nom ha de tenir com a m铆nim 2 carcters.":U.test(a.value.email.trim().toLowerCase())?a.value.service?a.value.message.trim().length<20?"El missatge ha de tenir com a m铆nim 20 carcters.":null:"Selecciona un servei dinter猫s.":"Introdueix una adre莽a de correu electr貌nic vlida."}async function e(){if(l.value)return;if(r.value){n.value=!0,i.value="Missatge enviat correctament! Em posar茅 en contacte amb tu aviat.";return}const o=c();if(o){n.value=!1,i.value=o;return}l.value=!0,i.value="";try{const{error:v}=await b.from("contacts").insert({name:a.value.name.trim(),email:a.value.email.trim().toLowerCase(),phone:a.value.phone?.trim()||null,service:a.value.service,message:a.value.message.trim()});if(v)throw v;n.value=!0,i.value="Missatge enviat correctament! Em posar茅 en contacte amb tu el m茅s aviat possible.",a.value={name:"",email:"",phone:"",service:"",message:""},r.value=""}catch(v){console.error(v),n.value=!1,i.value="Hi ha hagut un error. Si us plau, intenta-ho de nou o contacta'm per email."}finally{l.value=!1}}return{formData:a,honeypot:r,isSubmitting:l,submitMessage:i,submitSuccess:n,submitForm:e}}const w={class:"page-padding"},q={class:"section"},j={class:"contact-container"},B={class:"form-group"},D={class:"form-group"},F={class:"form-group"},N={class:"form-group"},T={class:"form-group"},z=["disabled"],A={key:0},G={key:1},H={__name:"contact",setup(b){const{formData:a,isSubmitting:r,submitMessage:l,submitSuccess:i,submitForm:n}=k();return h({title:"Contacte | Guillem Vila 路 Artista, productor musical i enginyer de so",meta:[{name:"description",content:"Contacta amb mi per col路laboracions, projectes musicals o serveis de gravaci贸, mescla, edici贸 i producci贸 professional."}]}),(c,e)=>(f(),p("div",w,[t("section",q,[e[14]||(e[14]=t("h1",{class:"section-title"},"Contacta amb nosaltres",-1)),e[15]||(e[15]=t("p",{class:"section-intro"}," Explica'ns el teu projecte i t'enviarem un pressupost personalitzat ",-1)),t("div",j,[t("form",{class:"contact-form",onSubmit:e[6]||(e[6]=E((...o)=>s(n)&&s(n)(...o),["prevent"]))},[t("div",B,[e[7]||(e[7]=t("label",{for:"name"},"Nom complet *",-1)),u(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s(a).name=o),type:"text",required:"",placeholder:"El teu nom"},null,512),[[m,s(a).name]])]),t("div",D,[e[8]||(e[8]=t("label",{for:"email"},"Email *",-1)),u(t("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>s(a).email=o),type:"email",required:"",placeholder:"email@exemple.com"},null,512),[[m,s(a).email]])]),t("div",F,[e[9]||(e[9]=t("label",{for:"phone"},"Tel猫fon",-1)),u(t("input",{id:"phone","onUpdate:modelValue":e[2]||(e[2]=o=>s(a).phone=o),type:"tel",placeholder:"+34 600 000 000"},null,512),[[m,s(a).phone]])]),u(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>c.honeypot=o),type:"text",tabindex:"-1",autocomplete:"off",class:"hp-field"},null,512),[[m,c.honeypot]]),t("div",N,[e[11]||(e[11]=t("label",{for:"service"},"Servei d'inter猫s *",-1)),u(t("select",{id:"service","onUpdate:modelValue":e[4]||(e[4]=o=>s(a).service=o),required:""},[...e[10]||(e[10]=[g('<option value="" data-v-3ff17a36>Selecciona un servei</option><option value="mescla" data-v-3ff17a36>Mescla</option><option value="gravacio" data-v-3ff17a36>Gravaci贸</option><option value="produccio" data-v-3ff17a36>Producci贸</option><option value="formacio" data-v-3ff17a36>Edici贸</option><option value="altre" data-v-3ff17a36>Altres</option>',6)])],512),[[x,s(a).service]])]),t("div",T,[e[12]||(e[12]=t("label",{for:"message"},"Missatge *",-1)),u(t("textarea",{id:"message","onUpdate:modelValue":e[5]||(e[5]=o=>s(a).message=o),required:"",placeholder:"Explica'ns el teu projecte, quan vols comen莽ar, etc."},null,512),[[m,s(a).message]])]),t("button",{type:"submit",class:"btn btn-primary submit-btn",disabled:s(r)},[s(r)?(f(),p("span",A,"Enviant...")):(f(),p("span",G,"Enviar missatge"))],8,z),s(l)?(f(),p("p",{key:0,class:V(s(i)?"submit-success":"submit-error")},M(s(l)),3)):S("",!0)],32),e[13]||(e[13]=g('<div class="contact-cards" data-v-3ff17a36><div class="card" data-v-3ff17a36><div class="card-icon" data-v-3ff17a36></div><h3 data-v-3ff17a36>Email</h3><p data-v-3ff17a36>info@guillemvila.cat</p></div><div class="card" data-v-3ff17a36><div class="card-icon" data-v-3ff17a36></div><h3 data-v-3ff17a36>Tel猫fon</h3><p data-v-3ff17a36>+34 682 463 081</p></div><div class="card" data-v-3ff17a36><div class="card-icon" data-v-3ff17a36></div><h3 data-v-3ff17a36>Ubicaci贸</h3><p data-v-3ff17a36>Riells i Viabrea, El Baix Montseny</p></div></div>',1))])])]))}},R=y(H,[["__scopeId","data-v-3ff17a36"]]);export{R as default};
